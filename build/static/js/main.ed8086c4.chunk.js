(this["webpackJsonpmood-app"]=this["webpackJsonpmood-app"]||[]).push([[0],{115:function(e,t,a){},116:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(30),l=a.n(o),i=(a(89),a(34)),c=a.n(i),r=a(57),u=a(14),m=a(15),d=a(17),h=a(16),p=a(18),g=a(76),f=a.n(g),v=Object(n.createContext)(),E=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).state={auth0Client:null,isLoading:!0,isAuthenticated:!1,user:null},a.config={domain:"dev-mp2cenf2.eu.auth0.com",client_id:"iIpSawEdhWh6m9nH1xIdNaWEc5W8Wt8y",redirect_uri:"http://localhost:3000/homescreen"},a.initializeAuth0=Object(r.a)(c.a.mark((function e(){var t,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()(a.config);case 2:if(t=e.sent,a.setState({auth0Client:t}),!window.location.search.includes("code=")){e.next=6;break}return e.abrupt("return",a.handleRedirectCallback());case 6:return e.next=8,t.isAuthenticated();case 8:if(!(n=e.sent)){e.next=15;break}return e.next=12,t.getUser();case 12:e.t0=e.sent,e.next=16;break;case 15:e.t0=null;case 16:s=e.t0,a.setState({isLoading:!1,isAuthenticated:n,user:s});case 18:case"end":return e.stop()}}),e)}))),a.handleRedirectCallback=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoading:!0}),e.next=3,a.state.auth0Client.handleRedirectCallback();case 3:return e.next=5,a.state.auth0Client.getUser();case 5:t=e.sent,a.setState({user:t,isAuthenticated:!0,isLoading:!1}),window.history.replaceState({},document.title,window.location.pathname);case 8:case"end":return e.stop()}}),e)}))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.initializeAuth0()}},{key:"render",value:function(){var e=this.state,t=e.auth0Client,a=e.isLoading,n=e.isAuthenticated,o=e.user,l=this.props.children,i={isLoading:a,isAuthenticated:n,user:o,loginWithRedirect:function(){return t.loginWithRedirect.apply(t,arguments)},getTokenSilently:function(){return t.getTokenSilently.apply(t,arguments)},getIdTokenClaims:function(){return t.getIdTokenClaims.apply(t,arguments)},logout:function(){return t.logout.apply(t,arguments)}};return s.a.createElement(v.Provider,{value:i},l)}}]),t}(n.Component),b=(a(46),a(93),a(27));var k=function(e){var t=Object(n.useContext)(v);return s.a.createElement("div",{className:"NavBar"},s.a.createElement("div",{className:"NavWrapper"},s.a.createElement("div",{className:"NavBarItem"},s.a.createElement(b.b,{to:"/homescreen"},"Home")),s.a.createElement("div",{className:"NavBarItem"},s.a.createElement(b.b,{to:"/analytics"},"Analytics"))),s.a.createElement("div",{className:"logout-button",onClick:function(){t.logout()}},s.a.createElement("div",null,"Logout")))},N=(a(98),s.a.Component,a(33)),y=a.n(N),S=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={user:a.props.userProp.user,id:a.props.userProp.sub,selected:null,hinweis:"",missing:!1,success:!1,moodData:[],heuteschon:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.userProp.sub),y.a.get("http://localhost:5000/users/"+this.props.userProp.sub).then((function(t){console.log(t.data.moods),e.setState({moodData:t.data.moods})})).catch((function(e){console.log(e.data)}))}},{key:"addZ",value:function(e){return e<10?"0"+e:""+e}},{key:"getCurrentDate",value:function(){var e=new Date,t=e.getFullYear()+"-"+this.addZ(e.getMonth()+1)+"-"+e.getDate();return console.log(t),t}},{key:"sendButtonPressed",value:function(e){var t=this;console.log(this.state.id);var a=this.state.moodData.some((function(e){return e.datum===t.getCurrentDate()}));if(console.log(a),""===this.state.selected||a)a?(console.log("Du kannst nur einmal am tag eine mood eintragen"),this.setState({heuteschon:!0})):this.setState({missing:!0});else{console.log("SEEEND REQUEST"),console.log(this.state.user),console.log(this.state.id);var n={selected:this.state.selected,hinweis:this.state.hinweis,datum:this.getCurrentDate()};console.log(n),console.log(this.state.moodData),y.a.post("http://localhost:5000/users/update/"+this.props.userProp.sub,{new:n}).then((function(e){console.log(e.data),t.setState({selected:"",hinweis:"",missing:!1,success:!0})})).catch((function(e){console.log(e.data)}))}}},{key:"updateHinweis",value:function(e){this.setState({hinweis:e.target.value})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(k,null),s.a.createElement("div",{className:"background-home"},this.state.success&&s.a.createElement("div",{className:"box-mainpage-success"},s.a.createElement("div",{className:"title-mainpage"},"See you tomorrow, Yilmaz"),s.a.createElement("div",{className:"success-emoji"},"\ud83c\udf89")),s.a.createElement("div",{className:this.state.success?"box-mainpage1":"box-mainpage"},s.a.createElement("div",{className:"title-mainpage"},"Hi ",this.props.userProp.given_name," \ud83d\udc4b\ud83c\udffb"),s.a.createElement("div",{className:"subheader-mainpage"},"How do you feel today?"),s.a.createElement("div",{className:"emoji-section"},s.a.createElement("div",{className:"emoji-wrapper"},s.a.createElement("div",{className:"emoji",id:"first",onClick:function(){return e.setState({selected:1})}},"\ud83d\ude41"),s.a.createElement("div",{className:"emoji",id:"second",onClick:function(){return e.setState({selected:2})}},"\ud83d\ude11"),s.a.createElement("div",{className:"emoji",id:"third",onClick:function(){return e.setState({selected:3})}},"\ud83d\ude0a"),s.a.createElement("div",{className:"emoji",id:"fourth",onClick:function(){return e.setState({selected:4})}},"\ud83c\udf89")),this.state.missing&&s.a.createElement("p",{className:"missed-message"},"Zum absenden bitte eine Emotion ausw\xe4hlen!")),s.a.createElement("div",{className:"box-wrapper"},s.a.createElement("textarea",{className:"comment-box",placeholder:"Why do you feel like this?",value:this.state.hinweis,onChange:function(t){return e.updateHinweis(t)}})),s.a.createElement("div",{className:"bottom-space"},this.state.heuteschon&&s.a.createElement("p",{className:"send-failed-text"},"You already submitted your mood for today. See you tomorrow!"),s.a.createElement("button",{className:"send-button",onClick:function(t){return e.sendButtonPressed(t)}},"Send")))))}}]),t}(s.a.Component);var w=function(){var e=Object(n.useContext)(v);return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("h1",null,"Click Below!"),s.a.createElement("button",{onClick:function(){e.loginWithRedirect()}},"Login")))},C=(a(115),a(78)),j=(a(116),a(79)),D=a.n(j),x=function(e){var t=[];e.props.map((function(e){t.push(e.datum)}));var a=[];e.props.map((function(e){a.push(e.selected)}));for(var n={},o=0;o<t.length;o++)Object.assign(n,Object(C.a)({},t[o],a[o]));console.log(n);return s.a.createElement("div",{className:"main-diagramm"},s.a.createElement(D.a,{values:n,until:"2020-12-31",weekNames:["M","D","M","D","F","SA","SO"],monthNames:["JA","FB","MRZ","AP","MA","JUN","JUL","AUG","SEP","OKT","NOV","DEZ"],panelColors:["#EEEEEE","#ff3d00","#ff9100","#ffea00","#c6ff00"]}))},O=a(82),A=a.n(O),P=a(81),M=a.n(P),L=(a(126),a(127),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={user:a.props.userProp.user,id:a.props.userProp.sub,moodData:[],choosen:[],startDate:new Date,keinEintrag:!1,sad:0,ok:0,good:0,sueper:0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props),y.a.get("http://localhost:5000/users/"+this.props.userProp.sub).then((function(t){console.log(t.data.moods),e.setState({moodData:t.data.moods}),e.calculatePie()})).catch((function(e){console.log(e.data)}))}},{key:"calculatePie",value:function(){var e=[];this.state.moodData.map((function(t){e.push(t.selected)})),this.setState({sad:Math.round(e.filter((function(e){return 1===e})).length/e.length*100*100)/100}),this.setState({ok:Math.round(e.filter((function(e){return 2===e})).length/e.length*100*100)/100}),this.setState({good:Math.round(e.filter((function(e){return 3===e})).length/e.length*100*100)/100}),this.setState({sueper:Math.round(e.filter((function(e){return 4===e})).length/e.length*100*100)/100})}},{key:"addZ",value:function(e){return e<10?"0"+e:""+e}},{key:"addD",value:function(e){return e<10?"0"+e:""+e}},{key:"changeFormat",value:function(e){this.setState({choosen:[]});var t=e.getFullYear()+"-"+this.addZ(e.getMonth()+1)+"-"+this.addD(e.getDate());return console.log(t),this.getCorrectMood(t),t}},{key:"getCorrectMood",value:function(e){console.log("Hier");for(var t=0;t<this.state.moodData.length;t++)if(this.state.moodData[t].datum===e){var a=this.state.moodData[t];console.log(a);var n=[];n.push(a),this.setState({choosen:n})}else this.setState({keinEintrag:!0}),console.log("kein Eintrag an dem Datum");return null}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(k,null),s.a.createElement("div",{className:"background-analytics"},0===this.state.moodData.length&&s.a.createElement("div",{className:"box-analyticspage-empty"},s.a.createElement("div",{className:"empty-data-emoji"},"\ud83d\udd96\ud83c\udffe"),s.a.createElement("p",{className:"empty-data-test"},"Looking for you data")),s.a.createElement("div",{className:0===this.state.moodData.length?"box-analyticspage":"box-analyticspage1"},s.a.createElement("div",{className:"analytics-wrapper"},s.a.createElement("div",{className:"diagramm-box"},s.a.createElement(x,{props:this.state.moodData})),s.a.createElement("div",{className:"pie-box"},s.a.createElement(M.a,{className:"pie-pie",animate:!1,animationDuration:500,animationEasing:"ease-out",cx:50,cy:50,data:[{color:"#ff3d00",title:"sad",value:this.state.sad},{color:"#ff9100",title:"ok",value:this.state.ok},{color:"#ffea00",title:"good",value:this.state.good},{color:"#c6ff00",title:"sueper",value:this.state.sueper}],label:!0,labelPosition:50,labelStyle:{fill:"#121212",fontFamily:"Poppins",fontSize:"5px"},lengthAngle:360,lineWidth:100,onClick:void 0,onMouseOut:void 0,onMouseOver:void 0,paddingAngle:0,radius:50,rounded:!1,startAngle:0,viewBoxSize:[100,100]}))),s.a.createElement("div",null,s.a.createElement("div",{className:"picker-section"},s.a.createElement("p",{className:"select-picker-header"},"Select a date:"),s.a.createElement(A.a,{className:"datepicker-analyitcs",selected:this.state.startDate,onChange:function(t){e.changeFormat(t),e.setState({startDate:t})}}),s.a.createElement("div",{className:"all-button",onClick:function(){e.setState({choosen:[],startDate:new Date,keinEintrag:!1})}},"All"))),s.a.createElement("div",{className:"messages-wrapper"},1===this.state.choosen.length?s.a.createElement("div",{className:"message-box"},s.a.createElement("p",null," ",1===this.state.choosen[0].selected?"\ud83d\ude41":2===this.state.choosen[0].selected?"\ud83d\ude10":3===this.state.choosen[0].selected?"\ud83d\ude0a":4===this.state.choosen[0].selected&&"\ud83c\udf89"," "),s.a.createElement("p",null,this.state.choosen[0].hinweis)):this.state.keinEintrag?s.a.createElement("div",{className:"message-box"},s.a.createElement("p",null," Kein Eintrag an der Stelle ")):this.state.moodData.map((function(e){return s.a.createElement("div",{className:"message-box"},s.a.createElement("p",null," ",1===e.selected?"\ud83d\ude41":2===e.selected?"\ud83d\ude10":3===e.selected?"\ud83d\ude0a":4===e.selected&&"\ud83c\udf89"," "),s.a.createElement("p",null,e.hinweis))}))))))}}]),t}(s.a.Component));var W=function(){var e=Object(n.useContext)(v);return console.log(e.user),s.a.createElement("div",null,s.a.createElement(L,{userProp:e.user}))},B=(a(187),function(e){function t(e){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).call(this,e))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(k,null),s.a.createElement("div",{className:"background-sendlove"}))}}]),t}(s.a.Component)),R=a(24);a(188);var F=function(){var e=Object(n.useContext)(v);return console.log(e.user),s.a.createElement("div",null,s.a.createElement(S,{userProp:e.user}))};var H=function(){var e=Object(n.useContext)(v);return s.a.createElement(b.a,null,s.a.createElement("div",{className:"App"},s.a.createElement(R.a,{exact:!0,path:"/",render:function(){return s.a.createElement(w,null)}}),s.a.createElement(R.a,{path:"/homescreen",render:function(){return e.isAuthenticated?s.a.createElement(F,null):s.a.createElement(w,null)}}),s.a.createElement(R.a,{path:"/analytics",render:function(){return e.isAuthenticated?s.a.createElement(W,null):s.a.createElement(w,null)}}),s.a.createElement(R.a,{path:"/sendlove",render:function(){return e.isAuthenticated?s.a.createElement(B,null):s.a.createElement(w,null)}})))};l.a.render(s.a.createElement(E,null,s.a.createElement(H,null)),document.getElementById("root"))},46:function(e,t,a){},85:function(e,t,a){e.exports=a(189)},89:function(e,t,a){},93:function(e,t,a){},98:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.ed8086c4.chunk.js.map